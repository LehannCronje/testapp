var donuChartData2 = [
    ['2015','March',437422,'Imports'],
['2015','April',376811,'Imports'],
['2015','May',334382,'Imports'],
['2015','June',585101,'Imports'],
['2015','July',438807,'Imports'],
['2015','August',487859,'Imports'],
['2015','September',437415,'Imports'],
['2015','October',452865,'Imports'],
['2015','November',518878,'Imports'],
['2015','December',496497,'Imports'],
['2016','January',399783,'Imports'],
['2016','February',667092,'Imports'],
['2016','March',780394,'Imports'],
['2016','April',372581,'Imports'],
['2016','May',636961,'Imports'],
['2016','June',458683,'Imports'],
['2016','July',762117,'Imports'],
['2016','August',587659,'Imports'],
['2016','September',400630,'Imports'],
['2016','October',456922,'Imports'],
['2016','November',396396,'Imports'],
['2016','December',812644,'Imports'],
['2017','January',381790,'Imports'],
['2017','February',437752,'Imports'],
['2017','March',1023923,'Imports'],
['2017','April',576533,'Imports'],
['2017','May',1569585,'Imports'],
['2017','June',478436,'Imports'],
['2017','July',502199,'Imports'],
['2017','August',346915,'Imports'],
['2017','September',387887,'Imports'],
['2017','October',484963,'Imports'],
['2017','November',489764,'Imports'],
['2017','December',515803,'Imports'],
['2018','January',224475,'Imports'],
['2018','February',343151,'Imports'],
['2018','March',376267,'Imports'],
['2018','April',315301,'Imports'],
['2018','May',411211,'Imports'],
['2018','June',531848,'Imports'],
['2018','July',484398,'Imports'],
['2018','August',432857,'Imports'],
['2018','September',583317,'Imports'],
['2018','October',748361,'Imports'],
['2018','November',666720,'Imports'],
['2018','December',697583,'Imports'],
['2019','January',342667,'Imports'],
['2019','February',568984,'Imports'],
['2019','March',650026,'Imports'],
['2019','April',713931,'Imports'],
['2015','March',25663012,'Imports'],
['2015','April',11674975,'Imports'],
['2015','May',27921800,'Imports'],
['2015','June',11212699,'Imports'],
['2015','July',10738235,'Imports'],
['2015','August',23346744,'Imports'],
['2015','September',12206996,'Imports'],
['2015','October',17215014,'Imports'],
['2015','November',20361699,'Imports'],
['2015','December',13865630,'Imports'],
['2016','January',28216626,'Imports'],
['2016','February',9471654,'Imports'],
['2016','March',18483310,'Imports'],
['2016','April',22379250,'Imports'],
['2016','May',28184468,'Imports'],
['2016','June',13479511,'Imports'],
['2016','July',30619600,'Imports'],
['2016','August',19828433,'Imports'],
['2016','September',14308912,'Imports'],
['2016','October',16959340,'Imports'],
['2016','November',10936395,'Imports'],
['2016','December',2415155,'Imports'],
['2017','January',35612283,'Imports'],
['2017','February',16132880,'Imports'],
['2017','March',16216127,'Imports'],
['2017','April',7742830,'Imports'],
['2017','May',24075713,'Imports'],
['2017','June',14830472,'Imports'],
['2017','July',28353952,'Imports'],
['2017','August',30278577,'Imports'],
['2017','September',32259296,'Imports'],
['2017','October',14340812,'Imports'],
['2017','November',5790531,'Imports'],
['2017','December',18518043,'Imports'],
['2018','January',27255576,'Imports'],
['2018','February',16666126,'Imports'],
['2018','March',5549951,'Imports'],
['2018','April',22719857,'Imports'],
['2018','May',23112558,'Imports'],
['2018','June',4174561,'Imports'],
['2018','July',20104918,'Imports'],
['2018','August',32891023,'Imports'],
['2018','September',21102582,'Imports'],
['2018','October',10367653,'Imports'],
['2018','November',31753038,'Imports'],
['2018','December',30004727,'Imports'],
['2019','January',34967669,'Imports'],
['2019','February',13431404,'Imports'],
['2019','March',27461932,'Imports'],
['2019','April',27624802,'Imports'],
['2015','March',100,'Imports'],
['2015','April',21334,'Imports'],
['2015','May',15604,'Imports'],
['2015','June',100,'Imports'],
['2015','July',17666,'Imports'],
['2015','August',0,'Imports'],
['2015','September',0,'Imports'],
['2015','October',0,'Imports'],
['2015','November',4000,'Imports'],
['2015','December',500,'Imports'],
['2016','January',0,'Imports'],
['2016','February',0,'Imports'],
['2016','March',8959,'Imports'],
['2016','April',600,'Imports'],
['2016','May',10000,'Imports'],
['2016','June',10000,'Imports'],
['2016','July',9510,'Imports'],
['2016','August',3549,'Imports'],
['2016','September',0,'Imports'],
['2016','October',0,'Imports'],
['2016','November',400,'Imports'],
['2016','December',5007,'Imports'],
['2017','January',0,'Imports'],
['2017','February',80,'Imports'],
['2017','March',15000,'Imports'],
['2017','April',0,'Imports'],
['2017','May',0,'Imports'],
['2017','June',0,'Imports'],
['2017','July',1506,'Imports'],
['2017','August',0,'Imports'],
['2017','September',18899,'Imports'],
['2017','October',7350,'Imports'],
['2017','November',850,'Imports'],
['2017','December',4941,'Imports'],
['2018','January',2913,'Imports'],
['2018','February',4635,'Imports'],
['2018','March',0,'Imports'],
['2018','April',0,'Imports'],
['2018','May',4165,'Imports'],
['2018','June',1349,'Imports'],
['2018','July',0,'Imports'],
['2018','August',5487,'Imports'],
['2018','September',2653,'Imports'],
['2018','October',3264,'Imports'],
['2018','November',0,'Imports'],
['2018','December',0,'Imports'],
['2019','January',0,'Imports'],
['2019','February',2573,'Imports'],
['2019','March',3200,'Imports'],
['2019','April',0,'Imports'],
['2015','March',32099834,'Imports'],
['2015','April',16476469,'Imports'],
['2015','May',20543110,'Imports'],
['2015','June',14782394,'Imports'],
['2015','July',13098791,'Imports'],
['2015','August',11229355,'Imports'],
['2015','September',23438933,'Imports'],
['2015','October',12295087,'Imports'],
['2015','November',6126031,'Imports'],
['2015','December',17213869,'Imports'],
['2016','January',14116620,'Imports'],
['2016','February',12120287,'Imports'],
['2016','March',18521336,'Imports'],
['2016','April',16133490,'Imports'],
['2016','May',16541819,'Imports'],
['2016','June',15471345,'Imports'],
['2016','July',15686814,'Imports'],
['2016','August',15029969,'Imports'],
['2016','September',12376519,'Imports'],
['2016','October',13158646,'Imports'],
['2016','November',16550917,'Imports'],
['2016','December',12031378,'Imports'],
['2017','January',9106330,'Imports'],
['2017','February',14313652,'Imports'],
['2017','March',12912997,'Imports'],
['2017','April',9481127,'Imports'],
['2017','May',12429879,'Imports'],
['2017','June',9140944,'Imports'],
['2017','July',16626998,'Imports'],
['2017','August',27848533,'Imports'],
['2017','September',13883458,'Imports'],
['2017','October',18268308,'Imports'],
['2017','November',16613346,'Imports'],
['2017','December',1475733,'Imports'],
['2018','January',9150816,'Imports'],
['2018','February',26369532,'Imports'],
['2018','March',32971568,'Imports'],
['2018','April',9432290,'Imports'],
['2018','May',11211837,'Imports'],
['2018','June',12624324,'Imports'],
['2018','July',9952737,'Imports'],
['2018','August',12682950,'Imports'],
['2018','September',23998919,'Imports'],
['2018','October',16991884,'Imports'],
['2018','November',9110990,'Imports'],
['2018','December',7930081,'Imports'],
['2019','January',16114517,'Imports'],
['2019','February',12337422,'Imports'],
['2019','March',15628812,'Imports'],
['2019','April',24343132,'Imports'],
['2015','March',4237,'Exports'],
['2015','April',18284,'Exports'],
['2015','May',0,'Exports'],
['2015','June',424327,'Exports'],
['2015','July',0,'Exports'],
['2015','August',0,'Exports'],
['2015','September',0,'Exports'],
['2015','October',78761,'Exports'],
['2015','November',0,'Exports'],
['2015','December',0,'Exports'],
['2016','January',0,'Exports'],
['2016','February',0,'Exports'],
['2016','March',0,'Exports'],
['2016','April',0,'Exports'],
['2016','May',0,'Exports'],
['2016','June',0,'Exports'],
['2016','July',0,'Exports'],
['2016','August',74061,'Exports'],
['2016','September',0,'Exports'],
['2016','October',19738,'Exports'],
['2016','November',0,'Exports'],
['2016','December',4171,'Exports'],
['2017','January',3268,'Exports'],
['2017','February',0,'Exports'],
['2017','March',0,'Exports'],
['2017','April',891,'Exports'],
['2017','May',0,'Exports'],
['2017','June',2873,'Exports'],
['2017','July',18650,'Exports'],
['2017','August',107,'Exports'],
['2017','September',3260,'Exports'],
['2017','October',0,'Exports'],
['2017','November',0,'Exports'],
['2017','December',0,'Exports'],
['2018','January',0,'Exports'],
['2018','February',0,'Exports'],
['2018','March',0,'Exports'],
['2018','April',0,'Exports'],
['2018','May',0,'Exports'],
['2018','June',14593,'Exports'],
['2018','July',0,'Exports'],
['2018','August',0,'Exports'],
['2018','September',0,'Exports'],
['2018','October',0,'Exports'],
['2018','November',0,'Exports'],
['2018','December',0,'Exports'],
['2019','January',460000,'Exports'],
['2019','February',0,'Exports'],
['2019','March',0,'Exports'],
['2019','April',0,'Exports'],
['2015','March',0,'Exports'],
['2015','April',0,'Exports'],
['2015','May',0,'Exports'],
['2015','June',0,'Exports'],
['2015','July',0,'Exports'],
['2015','August',0,'Exports'],
['2015','September',0,'Exports'],
['2015','October',0,'Exports'],
['2015','November',0,'Exports'],
['2015','December',0,'Exports'],
['2016','January',0,'Exports'],
['2016','February',0,'Exports'],
['2016','March',0,'Exports'],
['2016','April',0,'Exports'],
['2016','May',0,'Exports'],
['2016','June',5000,'Exports'],
['2016','July',0,'Exports'],
['2016','August',0,'Exports'],
['2016','September',0,'Exports'],
['2016','October',0,'Exports'],
['2016','November',0,'Exports'],
['2016','December',0,'Exports'],
['2017','January',0,'Exports'],
['2017','February',0,'Exports'],
['2017','March',0,'Exports'],
['2017','April',449630,'Exports'],
['2017','May',0,'Exports'],
['2017','June',0,'Exports'],
['2017','July',214172,'Exports'],
['2017','August',0,'Exports'],
['2017','September',0,'Exports'],
['2017','October',0,'Exports'],
['2017','November',0,'Exports'],
['2017','December',0,'Exports'],
['2018','January',0,'Exports'],
['2018','February',0,'Exports'],
['2018','March',0,'Exports'],
['2018','April',0,'Exports'],
['2018','May',0,'Exports'],
['2018','June',0,'Exports'],
['2018','July',0,'Exports'],
['2018','August',0,'Exports'],
['2018','September',0,'Exports'],
['2018','October',0,'Exports'],
['2018','November',0,'Exports'],
['2018','December',0,'Exports'],
['2019','January',0,'Exports'],
['2019','February',0,'Exports'],
['2019','March',0,'Exports'],
['2019','April',0,'Exports'],
['2015','March',1634865,'Exports'],
['2015','April',834471,'Exports'],
['2015','May',1357657,'Exports'],
['2015','June',2813232,'Exports'],
['2015','July',1485326,'Exports'],
['2015','August',1458511,'Exports'],
['2015','September',998614,'Exports'],
['2015','October',1587001,'Exports'],
['2015','November',1749556,'Exports'],
['2015','December',1093863,'Exports'],
['2016','January',2302497,'Exports'],
['2016','February',2045941,'Exports'],
['2016','March',2108718,'Exports'],
['2016','April',2807073,'Exports'],
['2016','May',1086926,'Exports'],
['2016','June',1074102,'Exports'],
['2016','July',1487614,'Exports'],
['2016','August',936891,'Exports'],
['2016','September',1879143,'Exports'],
['2016','October',809157,'Exports'],
['2016','November',599505,'Exports'],
['2016','December',414132,'Exports'],
['2017','January',1152801,'Exports'],
['2017','February',1077418,'Exports'],
['2017','March',378492,'Exports'],
['2017','April',1991586,'Exports'],
['2017','May',688706,'Exports'],
['2017','June',761933,'Exports'],
['2017','July',1068909,'Exports'],
['2017','August',2216979,'Exports'],
['2017','September',1217292,'Exports'],
['2017','October',1322357,'Exports'],
['2017','November',395755,'Exports'],
['2017','December',1489048,'Exports'],
['2018','January',719129,'Exports'],
['2018','February',1518987,'Exports'],
['2018','March',879201,'Exports'],
['2018','April',374929,'Exports'],
['2018','May',1067211,'Exports'],
['2018','June',311893,'Exports'],
['2018','July',1958271,'Exports'],
['2018','August',415063,'Exports'],
['2018','September',898085,'Exports'],
['2018','October',549737,'Exports'],
['2018','November',1572893,'Exports'],
['2018','December',966774,'Exports'],
['2019','January',1668841,'Exports'],
['2019','February',851873,'Exports'],
['2019','March',317022,'Exports'],
['2019','April',1008199,'Exports'],
['2015','March',0,'Exports'],
['2015','April',0,'Exports'],
['2015','May',0,'Exports'],
['2015','June',0,'Exports'],
['2015','July',0,'Exports'],
['2015','August',0,'Exports'],
['2015','September',0,'Exports'],
['2015','October',0,'Exports'],
['2015','November',0,'Exports'],
['2015','December',0,'Exports'],
['2016','January',0,'Exports'],
['2016','February',0,'Exports'],
['2016','March',0,'Exports'],
['2016','April',0,'Exports'],
['2016','May',0,'Exports'],
['2016','June',0,'Exports'],
['2016','July',0,'Exports'],
['2016','August',0,'Exports'],
['2016','September',0,'Exports'],
['2016','October',0,'Exports'],
['2016','November',0,'Exports'],
['2016','December',0,'Exports'],
['2017','January',0,'Exports'],
['2017','February',0,'Exports'],
['2017','March',0,'Exports'],
['2017','April',0,'Exports'],
['2017','May',0,'Exports'],
['2017','June',0,'Exports'],
['2017','July',0,'Exports'],
['2017','August',0,'Exports'],
['2017','September',0,'Exports'],
['2017','October',0,'Exports'],
['2017','November',0,'Exports'],
['2017','December',0,'Exports'],
['2018','January',0,'Exports'],
['2018','February',0,'Exports'],
['2018','March',0,'Exports'],
['2018','April',0,'Exports'],
['2018','May',0,'Exports'],
['2018','June',0,'Exports'],
['2018','July',0,'Exports'],
['2018','August',0,'Exports'],
['2018','September',0,'Exports'],
['2018','October',0,'Exports'],
['2018','November',0,'Exports'],
['2018','December',0,'Exports'],
['2019','January',0,'Exports'],
['2019','February',0,'Exports'],
['2019','March',0,'Exports'],
['2019','April',0,'Exports'],
]

var randomScalingFactor = function() {
    return Math.round(Math.random() * 100);
};

var config2 = {
    type: 'doughnut',
    data: {
        datasets: [{
            data: [],
            backgroundColor: [
                window.chartColors.red,
                window.chartColors.orange,
                window.chartColors.yellow,
                window.chartColors.green,
                window.chartColors.blue,
                window.chartColors.purple,
                window.chartColors.grey,
                window.chartColors.aqua,
                window.chartColors.navy,
                window.chartColors.indigo,
                window.chartColors.teal,
                window.chartColors.olive,
            ],
            label: '2015'
        },
        {
            data: [],
            backgroundColor: [
                window.chartColors.red,
                window.chartColors.orange,
                window.chartColors.yellow,
                window.chartColors.green,
                window.chartColors.blue,
                window.chartColors.purple,
                window.chartColors.grey,
                window.chartColors.aqua,
                window.chartColors.navy,
                window.chartColors.indigo,
                window.chartColors.teal,
                window.chartColors.olive,
            ],
            label: '2016'
        },
        {
            data: [],
            backgroundColor: [
                window.chartColors.red,
                window.chartColors.orange,
                window.chartColors.yellow,
                window.chartColors.green,
                window.chartColors.blue,
                window.chartColors.purple,
                window.chartColors.grey,
                window.chartColors.aqua,
                window.chartColors.navy,
                window.chartColors.indigo,
                window.chartColors.teal,
                window.chartColors.olive,
            ],
            label: '2017'
        },
        {
            data: [],
            backgroundColor: [
                window.chartColors.red,
                window.chartColors.orange,
                window.chartColors.yellow,
                window.chartColors.green,
                window.chartColors.blue,
                window.chartColors.purple,
                window.chartColors.grey,
                window.chartColors.aqua,
                window.chartColors.navy,
                window.chartColors.indigo,
                window.chartColors.teal,
                window.chartColors.olive,
            ],
            label: '2018'
        },
        {
            data: [],
            backgroundColor: [
                window.chartColors.red,
                window.chartColors.orange,
                window.chartColors.yellow,
                window.chartColors.green,
                window.chartColors.blue,
                window.chartColors.purple,
                window.chartColors.grey,
                window.chartColors.aqua,
                window.chartColors.navy,
                window.chartColors.indigo,
                window.chartColors.teal,
                window.chartColors.olive,
            ],
            label: '2019'
        }
    ],
        labels: [
            'January',
            'February',
            'March',
            'April',
            'May',
            'June',
            'July',
            'August',
            'September',
            'October',
            'November',
            'December'
        ]
    },
    options: {
        maintainAspectRatio: true,
        responsive: true,
        legend: {
            position: 'right',
        },
        title: {
            display: true,
            text: 'Transport types',
            fontSize: 26
        },
        animation: {
            animateScale: true,
            animateRotate: true
        }
    }
};

var years2 = ['2015','2016','2017','2018','2019'];
var donutMonth = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

var monthStates = [
    ['January',true],
    ['February',true],
    ['March',true],
    ['April',true],
    ['May',true],
    ['June',true],
    ['July',true],
    ['August',true],
    ['September',true],
    ['October',true],
    ['November',true],
    ['December',true],
];
var states3 = [
    ['2015',true],
    ['2016',true],
    ['2017',true],
    ['2018',true],
    ['2019',true],
];


for(var j=0;j<years2.length;j++){
    var dataImport=[];
    for(var i=0;i<donutMonth.length;i++){
        var total = 0;
        for(var k=0;k<donuChartData2.length;k++){
            if(donuChartData2[k][0]==years2[j] && donuChartData2[k][1] == donutMonth[i] && donuChartData2[k][3] == "Imports"){
                total = total + donuChartData2[k][2];
            }
        }
        dataImport[i] = total;
    };
    config2.data.datasets[j].data = dataImport;
}
document.getElementById('donut2Exp').classList.add('active');

function hideData4(par){
	config2.data.datasets.forEach(function(ds){
		if(ds.label == par){
			for(var i=0;i<states3.length;i++){
				if(states3[i][0]==par){
					if(states3[i][1]){
						ds.hidden = true;
						states3[i][1] = false;
						document.getElementById(par+'v4').classList.add('active');
					}else{
						ds.hidden = false;
						states3[i][1] = true;
						document.getElementById(par+'v4').classList.remove('active');
					}
				}
			}
		}
	})
	window.myDoughnut1.update();
}

function hideMonths4(par){

    var index = donutMonth.indexOf(par);
	config2.data.datasets.forEach(function(ds){
		if(monthStates[index][1]){
            ds._meta[3].data[index].hidden = true;
        }else{
            ds._meta[3].data[index].hidden = false;
        }
    });
    if(monthStates[index][1]){
        monthStates[index][1] = false;
        document.getElementById(par).classList.add('active');
    }else{
        monthStates[index][1] = true;
        document.getElementById(par).classList.remove('active');
    }
	window.myDoughnut1.update();
}

function donut2ToggleType(type){
    for(var j=0;j<years2.length;j++){
        var dataImport=[];
        for(var i=0;i<donutMonth.length;i++){
            var total = 0;
            for(var k=0;k<donuChartData2.length;k++){
                if(donuChartData2[k][0]==years2[j] && donuChartData2[k][1] == donutMonth[i] && donuChartData2[k][3] == type){
                    total = total + donuChartData2[k][2];
                }
            }
            dataImport[i] = total;
        };
        config2.data.datasets[j].data = dataImport;
    }
    if(type=='Imports'){
        document.getElementById("donut2Imp").classList.remove('active');
		document.getElementById('donut2Exp').classList.add('active');
    }else{
        document.getElementById("donut2Exp").classList.remove('active');
		document.getElementById('donut2Imp').classList.add('active');
    }
    window.myDoughnut1.update();
}
// document.getElementById('randomizeData2').addEventListener('click', function() {
//     config1.data.datasets.forEach(function(dataset) {
//         dataset.data = dataset.data.map(function() {
//             return randomScalingFactor();
//         });
//     });

//     window.myDoughnut.update();
// });

// var colorNames = Object.keys(window.chartColors);
// document.getElementById('addDataset2').addEventListener('click', function() {
//     var newDataset = {
//         backgroundColor: [],
//         data: [],
//         label: 'New dataset ' + config1.data.datasets.length,
//     };

//     for (var index = 0; index < config1.data.labels.length; ++index) {
//         newDataset.data.push(randomScalingFactor());

//         var colorName = colorNames[index % colorNames.length];
//         var newColor = window.chartColors[colorName];
//         newDataset.backgroundColor.push(newColor);
//     }

//     config1.data.datasets.push(newDataset);
//     window.myDoughnut.update();
// });

// document.getElementById('addData2').addEventListener('click', function() {
//     if (config1.data.datasets.length > 0) {
//         config1.data.labels.push('data #' + config1.data.labels.length);

//         var colorName = colorNames[config1.data.datasets[0].data.length % colorNames.length];
//         var newColor = window.chartColors[colorName];

//         config1.data.datasets.forEach(function(dataset) {
//             dataset.data.push(randomScalingFactor());
//             dataset.backgroundColor.push(newColor);
//         });

//         window.myDoughnut.update();
//     }
// });

// document.getElementById('removeDataset2').addEventListener('click', function() {
//     config1.data.datasets.splice(0, 1);
//     window.myDoughnut.update();
// });

// document.getElementById('removeData2').addEventListener('click', function() {
//     config1.data.labels.splice(-1, 1); // remove the label first

//     config1.data.datasets.forEach(function(dataset) {
//         dataset.data.pop();
//         dataset.backgroundColor.pop();
//     });

//     window.myDoughnut.update();
// });

// document.getElementById('changeCircleSize2').addEventListener('click', function() {
//     if (window.myDoughnut.options.circumference === Math.PI) {
//         window.myDoughnut.options.circumference = 2 * Math.PI;
//         window.myDoughnut.options.rotation = -Math.PI / 2;
//     } else {
//         window.myDoughnut.options.circumference = Math.PI;
//         window.myDoughnut.options.rotation = -Math.PI;
//     }

//     window.myDoughnut.update();
// });

function loadDonutChart1(){
    var canvas = document.getElementById('canvas3');
    var parent = document.getElementById('container-donut1');
    canvas.width = parent.offsetWidth;
    canvas.height = parent.offsetHeight;
    var ctx = document.getElementById('canvas3').getContext('2d');
    window.myDoughnut1 = new Chart(ctx, config2);
}